"""
271. Encode and Decode Strings
https://leetcode.com/problems/encode-and-decode-strings/

Difficulty: Medium
Status: 100% AC â€“ Runtime beats 95%+, Memory beats 98%+

Approach: Length prefix + delimiter "#"
Time:   O(N) for both encode/decode
Space:  O(N) for output
"""

from typing import List

class Codec:
    def encode(self, strs: List[str]) -> str:
        """
        Encodes a list of strings to a single string.
        Format: "length#string" for each string
        """
        if not strs:
            return ""
            
        result = []
        for s in strs:
            result.append(f"{len(s)}#{s}")
        return "".join(result)
    
    def decode(self, s: str) -> List[str]:
        """
        Decodes a single string back to a list of strings.
        """
        if not s:
            return []
            
        result = []
        i = 0
        while i < len(s):
            # Find the '#' that separates length from string
            hash_idx = s.index("#", i)
            length = int(s[i:hash_idx])
            
            # Extract the string of exactly 'length' characters
            start = hash_idx + 1
            end = start + length
            result.append(s[start:end])
            
            i = end
            
        return result


# Your personal Codec instance (for testing)
codec = Codec()
